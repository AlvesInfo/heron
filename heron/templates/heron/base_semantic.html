{% load static %}

<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <title>ANS, l'agence française de la santé numérique | esante.gouv.fr</title>
        <meta name="title" content="ANS Santé, l'agence française de la santé numérique | esante.gouv.fr">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
        {% block head_meta %}
        {% endblock head_meta %}
        <link rel="icon"
              type="image/png"
              href="{% static 'favicon.ico' %}"/>
        <!--[if IE]><link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}" /><![endif]-->

        <link rel="stylesheet" type="text/css" href="{% static 'jquery-ui.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'dataTables.semanticui.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'rowReorder.semanticui.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'calendar.min.css' %}">

        <link rel="stylesheet" type="text/css" href="{% static 'semantic/dist/semantic.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'main.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'app.css' %}" />

        {% block head_css %}
        {% endblock head_css %}

        <script src="{% static 'jquery-3.5.1.min.js' %}"></script>
        <script src="{% static 'jquery-ui.min.js' %}"></script>
        <script src="{% static 'jquery.dataTables.min.js' %}"></script>
        <script src="{% static 'dataTables.semanticui.min.js' %}"></script>
        <script src="{% static 'dataTables.rowReorder.min.js' %}"></script>

        <script src="{% static 'frenchCalendar.js' %}"></script>
        <script src="{% static 'semantic/dist/semantic.js' %}"></script>
        <script src="{% static 'sticky.min.js' %}"></script>
        <script src="{% static 'dropdown.min.js' %}"></script>

        <script src="{% static 'semantic/dist/components/dimmer.js' %}"></script>
        <script src="{% static 'semantic/dist/components/modal.js' %}"></script>
        <script src="{% static 'semantic/dist/components/sidebar.min.js' %}"></script>

        <script type="text/javascript" src="{% static 'moment.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'datetime-moment.js' %}"></script>
        <script type="text/javascript">
            $(document).ready(function () {
              // INITIALISATION DE MOMENT SUR LES DATATABLES POUR TRI
              $.fn.dataTable.moment( 'DD/MM/YYY' );
            });
        </script>

        <script src="{% static 'tablesort.js' %}"></script>
        <script src="{% static 'ogsp_header.js' %}"></script>
        <script src="{% static 'js.cookie.min.js' %}"></script>
        <script src="{% static 'Chart.bundle.min.js' %}"></script>

        <script src="{% static 'pollyfill-custom-element-custom.js' %}" defer></script>
        <script src="{% static 'text-area-autogrow.js' %}" defer></script>
        <script  src="{% static 'open_windows.js' %}" defer></script>
        <script type="text/javascript" src="{% static "ckeditor/ckeditor-init.js" %}"></script>
        <script type="text/javascript" src="{% static "ckeditor/ckeditor/ckeditor.js" %}"></script>
        {% block head_js %}
        {% endblock head_js %}

    </head>

    <body>

        {% block logo %}
        {% endblock logo %}

        {% block menu_principal %}
        {% endblock menu_principal %}

        {% block aside %}
        {% endblock aside %}

        {% block content %}
        {% endblock content %}

        <br class="clear"/>

        {% block footer %}
        {% endblock footer %}

        {% block login %}
        {% endblock login %}

        <script src="{% static 'ogsp_foot.js' %}"></script>

        <script type="text/javascript">

            $(document).ready(function(){

                // FONCTION SEMANTIC UI POUR INITIALISATION DES DROPDOWNS
                $('.dropdown').dropdown({});

                // FONCTION SEMANTIC UI POUR INITIALISATION DES TABS
                $('.menu .item').tab();

                // FONCTION SEMANTIC UI POUR INITIALISATION DES CHECKBOX
                $('.checkbox').checkbox();

                // FONCTION APPEL AJAX POUR CHANGEMENT DU GROUPE EN COURS PAR USERS
                function modifUserGroupe (idGroupe) {
                    let success = '';
                    let urlAdd = '/user-groupe/';
                    let tableau = JSON.stringify(
                        {'idGroupe': idGroupe, }
                        );
                    let xhr = $.ajax({
                        data : {data: tableau},
                        url : urlAdd,
                        type : 'POST',
                        success : function (data) {
                            success = JSON.parse(data).success;
                        }
                    });
                    return xhr.success
                }

                // FONCTION SEMANTIC UI POUR INITIALISATION DES ITEMS MENUS
                $('.groupe.item').on('click', function() {
                  $('.groupe.item').removeClass('active');
                  $(this).addClass('active');
                  let IdMenu = $(this).attr('id');
                  modifUserGroupe(IdMenu);
                });

                $('.message .close').on('click', function() {
                    $(this).closest('.message').transition('fade');
                });

                // AFFICHAGE OU PAS LES ELEMENTS ARCHIVES
                $(`#id_toggle_archive`).checkbox({
                    onChecked: function () {
                        $(`.hide_plans.purple`).show();
                    },
                    onUnchecked: function () {
                        $(`.hide_plans.purple`).hide();
                    }
                });

            });
        </script>

        {% block script %}
        {% endblock script %}

        {% block footer_css %}
        {% endblock footer_css %}

    </body>
</html>
