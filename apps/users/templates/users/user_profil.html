{% extends "heron/base_semantic.html" %}

{% block menu_principal %}
    {% include "heron/menu_principal.html" %}
{% endblock menu_principal %}

{% block content %}

    <h5 style="text-align: center;">{{ title }}</h5>

    <form class="ui form" method="POST" action="" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="ui grid">

            <div class="column" style="width: 30%;">
            </div>

            <div class="column" style="width: 46%;">

                <div class="ui form">
                    <div class="two fields">
                        <div class="field">
                            <label for="id_first_name">Prénom :</label>
                            <input name="first_name" placeholder="Prénom..." type="text" maxlength="80"
                                   id="id_first_name"
                                   value="{{ form.first_name.value|default:"" }}"/>
                        </div>
                        <div class="field">
                            <label for="id_last_name">Nom :</label>
                            <input name="last_name" placeholder="Nom..." type="text" maxlength="80"
                                   id="id_last_name"
                                   value="{{ form.last_name.value|default:"" }}"/>
                        </div>
                    </div>
                </div>
                <div class="ui form">
                    <div class="two fields">
                        <div class="field">
                            <label for="id_username">Utilisateur :</label>
                            <input name="username" placeholder="UserName..." type="text" maxlength="80"
                                   id="id_username"
                                   value="{{ form.username.value|default:"" }}" required/>
                        </div>
                        <div class="field">
                            <label for="id_fonction">Fonction :</label>
                            <input name="fonction"
                                   placeholder="Fonction..."
                                   type="text"
                                   id="id_fonction"
                                   value="{{ form.fonction.value|default:"" }}"
                                   maxlength="80"/>
                        </div>
                    </div>
                </div>
{#            A REMETTRE SI PASSAGE A PRO SANTE CONNECT#}
{#                <div class="ui form">#}
{#                    <div class="two fields">#}
{#                        <div class="field">#}
{#                            <label for="id_identifier">Id nat ps :</label>#}
{#                            <input name="identifier"#}
{#                                   placeholder="Identifiant National PS..."#}
{#                                   type="text"#}
{#                                   id="id_identifier"#}
{#                                   maxlength="80"#}
{#                                   value="{{ form.identifier.value|default:"" }}"#}
{#                                   required/>#}
{#                        </div>#}
{#                     </div>#}
{#                </div>#}

                <div class="ui form">
                    <div class="two fields">
                        <div class="field">
                            <label for="id_password">Mot de passe :</label>
                            <input name="password" placeholder="Mot de Passe..." type="password" id="id_password" autocomplete="off"/>
                        </div>
                        <div class="field">
                            <label for="id_password_verif">Confirmation Mot de passe :</label>
                            <input name="password_verif" placeholder="Confirmation Mot de Passe..." type="password"
                                   id="id_password_verif" autocomplete="off"/>
                        </div>
                     </div>
                </div>

                <input type="submit" class="ui fluide button color-button" value="Mettre à Jour">

                {% if form.errors %}
                    <div class="ui red message">
                        <div class="header">ERREUR : </div>
                        <div style="text-align: left;">
                            {%  for field in form %}
                              {% if field.errors %}
                                  {{ field.label }}
                                {% if field.help_text|escape %}
                                  {% else %}
                                    <p><strong>{{ field.errors }}</strong></p>
                                  {% endif %}
                              {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}

                {% if message %}
                    <div class="ui green message">
                        <p><strong>{{ message|escape }}</strong></p>
                    </div>
                {% endif %}

            </div>

            <div class="column" style="width: 30%;">
            </div>

        </div>

    </form>

{% endblock content %}

{% block script %}

    <script type="text/javascript">

        // FONCTION SEMANTIC UI POUR INITIALISATION DES DROPDOWNS
        $('.dropdown').dropdown({});

        $(document).ready(function(){
            $('.ui.dropdown').dropdown({});
        });

    </script>
{% endblock script %}
